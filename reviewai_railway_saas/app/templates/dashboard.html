{% extends 'base.html' %}
{% block content %}
<div class="row g-3">
  <div class="col-12 col-md-8">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Ratings Trend</h5>
        <canvas id="trendChart"></canvas>
      </div>
    </div>
  </div>
  <div class="col-12 col-md-4">
    <div class="card mb-3"><div class="card-body"><h6>Total Reviews</h6><div id="kpiTotal" class="display-6">0</div></div></div>
    <div class="card mb-3"><div class="card-body"><h6>Average Rating</h6><div id="kpiAvg" class="display-6">0.0</div></div></div>
    <div class="card"><div class="card-body"><h6>Sentiment</h6><canvas id="sentimentChart"></canvas></div></div>
  </div>
</div>
<script>
  // Placeholder demo data; real data comes from API calls
  const trendCtx = document.getElementById('trendChart');
  new Chart(trendCtx, {type:'line', data:{labels:['2025-11','2025-12','2026-01'], datasets:[{label:'Avg Rating', data:[4.4,4.2,4.6], borderColor:'#22c55e'}]}});
  const sentCtx = document.getElementById('sentimentChart');
  new Chart(sentCtx, {type:'doughnut', data:{labels:['Positive','Neutral','Negative'], datasets:[{data:[70,20,10], backgroundColor:['#16a34a','#64748b','#dc2626']}]} });
  document.getElementById('kpiTotal').innerText = '120';
  document.getElementById('kpiAvg').innerText = '4.5';
</script>
{% endblock %}